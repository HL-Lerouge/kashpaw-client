
<ion-content class="" [style.--background]="scannActiv ? 'transparent' : ''">

  <ng-container *ngIf="scannActiv">
    <h3 style="text-align: center">Envoyer de l'argent</h3>
    <div class="scan-box"></div>
    <ion-button expand="block" (click)="stopScanner()" class="button1">Stop</ion-button>
  </ng-container>

  <ng-container *ngIf="!scannActiv">
  <ng-container *ngIf="etap==1">
    
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-button color="medium" (click)="goHome()" fill="clear"><ion-icon style="color: #3d9450;;" name="arrow-back-outline"></ion-icon></ion-button>
      </ion-buttons>
    </ion-toolbar>
    <h3 style="text-align: center">Envoyer de l'argent</h3>
    <h4 class="ion-padding">Envoyer à</h4>
  
  
   
    <ion-item style="margin-top: 25px" lines="none">

      <ion-input label="+ 509" class="customm" placeholder="Entrez le numéro"  [(ngModel)]="numero_a" type="tel" inputmode="number"></ion-input>
      <ion-icon (click)="clickKontak()" style="color:  #3d9450;" slot="end" name="person"></ion-icon>
      <ion-icon (click)="startSanner()" style="color:  #3d9450;" name="scan-circle-outline"></ion-icon>
    </ion-item>

  <div style="text-align: center;">
    <ion-button  class="button1" (click)="suivant()"  fill="clear">Valider</ion-button>
  </div>
  
  <!--  <ng-container style="display: none">
    <h3 style="text-align: center">Transactions récentes</h3>
    <ion-list *ngIf="recentsTransction">
      <ion-item *ngFor="let t of recentsTransction" (click)="viewTransaction(t)">
        <ion-icon *ngIf="t.type=='envoyer'" name="arrow-back-circle-outline"></ion-icon>
        <ion-icon *ngIf="t.type=='recevoir'" name="arrow-forward-circle-outline"></ion-icon>
        <ion-icon *ngIf="t.type=='depot moncash'" name="arrow-forward-circle-outline"></ion-icon>
        <ion-label style="font-weight: bold;text-transform: capitalize">
          <ng-container *ngIf="t.type=='depot moncash'">DEPOT MONCASH</ng-container>
          <ng-container *ngIf="t.type!=='depot moncash'">{{t?.objetDe?.nom}} {{t?.objetDe?.prenom}}</ng-container>
          <br>
          <span style="font-size: 11px;color: green">{{t?.date}} {{t?.heure}}</span>
        </ion-label>
        <ion-label slot="end">Montant : {{t.montant | currency : " "}}<br>Frais : {{t.frais | currency : " "}}<br>Total : {{t.montant_total | currency : " HTG "}}</ion-label>
      </ion-item>
    </ion-list>
    </ng-container>-->

  </ng-container>



  <ng-container *ngIf="etap==2">
 
        <ion-toolbar  style="--background: #3d9450">
          <ion-buttons slot="start">
            <ion-button color="medium" (click)="back1()" fill="clear"><ion-icon style="color: #fff;" name="arrow-back-outline"></ion-icon></ion-button>
          </ion-buttons>
        </ion-toolbar>
   
 
    <ion-card-content style="font-weight: bold;font-size: 20px; 
    background-color: #3d9450;border-end-end-radius: 20px;border-end-start-radius: 20px;font-weight: bold;text-align: center;font-size: 25px;">

        <ion-row>
          <ion-col size="12">
            <h1 style="color: #ffffff;"> {{comptePrincipale?.balance | currency : " HTG "}}</h1>
            <ion-label style="color: #f8e404;">Balance Actuelle</ion-label>
          </ion-col>
        </ion-row>
    </ion-card-content>
 

    <ion-item lines="none" style="padding-top: 30px;">
      <ion-label style="font-weight: bold">Envoyer à</ion-label>
      <ion-label slot="end">{{compteRechercher?.nom}} {{compteRechercher?.prenom}}</ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label style="font-weight: bold">Numéro</ion-label>
      <ion-label slot="end">{{compteRechercher?.telephone}}</ion-label>
    </ion-item>

    <ion-item lines="none">
     
      <input class="customm" placeholder="Montant à envoyer" [(ngModel)]="montant_a" type="number" inputmode="number"/>
    </ion-item>
    
    <div style="text-align: center;">
      <ion-button  class="button1" (click)="suivant2()"  fill="clear">Suivant</ion-button>
    </div>

  </ng-container>




  <ng-container *ngIf="etap==3">
 
    <ion-toolbar  style="--background: #3d9450">
      <ion-buttons slot="start">
        <ion-button color="medium" (click)="back2()" fill="clear"><ion-icon style="color: #fff;" name="arrow-back-outline"></ion-icon></ion-button>
      </ion-buttons>
    </ion-toolbar>


<ion-card-content style="font-weight: bold;font-size: 20px; 
background-color: #3d9450;border-end-end-radius: 20px;border-end-start-radius: 20px;font-weight: bold;text-align: center;font-size: 25px;">

    <ion-row>
      <ion-col size="12">
        <h1 style="color: #ffffff;"> {{comptePrincipale?.balance | currency : " HTG "}}</h1>
        <ion-label style="color: #f8e404;">Balance Actuelle</ion-label>
      </ion-col>
    </ion-row>
</ion-card-content>
 

    <h3 class="ion-padding" style="text-align: center;">Resumé de la Transaction</h3>

    <ion-item lines="none">
      <ion-label>Envoyer à</ion-label>
      <ion-label style="font-weight: bold" slot="end">{{compteRechercher?.nom}} {{compteRechercher?.prenom}}</ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>Numéro</ion-label>
      <ion-label style="font-weight: bold" slot="end">{{compteRechercher?.telephone}}</ion-label>
    </ion-item>

    <ion-item>
      <ion-label>Montant envoyé :</ion-label>
      <ion-label slot="end" style="font-weight: bold"> {{infoTransfert.montant | currency : " HTG "}}</ion-label>
    </ion-item>


    <ion-item>
      <ion-label>Frais :</ion-label>
      <ion-label slot="end" style="font-weight: bold">{{infoTransfert.frais | currency : " HTG "}}</ion-label>
    </ion-item>

    <ion-item>
      <ion-label>Total transaction :</ion-label>
      <ion-label slot="end" style="font-weight: bold"> {{infoTransfert.montant_total | currency : " HTG "}}</ion-label>
    </ion-item>

    <ion-button (click)="confirmer()" class="confirm-button" shape="round" expand="block" style="margin: 50px;">Confirmer</ion-button>

  </ng-container>
  </ng-container>
</ion-content>
